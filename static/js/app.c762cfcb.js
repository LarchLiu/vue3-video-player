(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],d=0,h=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue3-video-player/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00ab":function(e,t,n){},"0177":function(e,t,n){},"060e":function(e,t,n){},"0c6f":function(e,t,n){"use strict";n("ed0d")},"0d2d":function(e){e.exports=JSON.parse('{"dashboard":{"btn":{"play":"再生","pause":"一時停止","fullscreen":"全画面","exitFullscreen":"全画面をキャンセル","mute":"ミュート","unmute":"ミュートを解除","back":"戻る","pip":"ピクチャインピクチャ"},"settings":{"autoplay":"自動再生","loop":"ループプレイ","speed":"スピード","resolution":"画質"}},"layers":{"error":{"601":"働いていない","2404":"ソースが見つかりません","2502":"ネットワークエラー","2503":"デコードエラー","2504":"働いていない","title":"再生エラー!"},"loading":{"msg":"待っている ..."}}}')},"0f8d":function(e,t,n){},"20a6":function(e,t,n){"use strict";n("060e")},"326f":function(e,t,n){"use strict";n("df70")},3532:function(e,t,n){"use strict";n("6d6b")},"3c9c":function(e,t,n){"use strict";n("e77f")},"3e62":function(e,t,n){"use strict";n("0f8d")},"439b":function(e,t,n){"use strict";n("acd1")},"54e9":function(e,t,n){},"54f1":function(e,t,n){"use strict";n("618c")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a={id:"app"},r=Object(o["createVNode"])("div",null,"Multi Resolution",-1),i={class:"test-player-wrap"},s=Object(o["createVNode"])("div",null,"Customize Controls",-1),c={class:"test-player-wrap"},l=Object(o["createVNode"])("div",null,"HLS/m3u8",-1),u={class:"test-player-wrap"};function d(e,t,n,d,h,p){var f=Object(o["resolveComponent"])("vue3-video-player");return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[r,Object(o["createVNode"])("div",i,[Object(o["createVNode"])(f,{onPlay:p.playFunc,src:h.source,title:"Smartisan TNT","view-core":p.viewCore.bind(null,"video1"),cover:h.cover,barrageConfig:{barrageList:h.barrages},logo:h.logo,resolution:"720p"},null,8,["onPlay","src","view-core","cover","barrageConfig","logo"])]),s,Object(o["createVNode"])("div",c,[Object(o["createVNode"])(f,{onGlobalAutoPlay:p.autoPlay,src:h.source2,title:"Smartisan T1",barrageConfig:{fontSize:20,opacity:90,position:80,barrageList:h.barrages2},"view-core":p.viewCore.bind(null,"video2")},{cusControls:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("span",{style:{color:"white","margin-right":"10px",cursor:"pointer"},onClick:t[1]||(t[1]=function(e){return p.play("video2")})},"play")]})),_:1},8,["onGlobalAutoPlay","src","barrageConfig","view-core"]),Object(o["createVNode"])("button",{style:{margin:"20px"},onClick:t[2]||(t[2]=function(e){return p.play("video1")})},"play 1st video"),Object(o["createVNode"])("button",{onClick:t[3]||(t[3]=function(e){return p.play("video2")})},"play 2nd video")]),l,Object(o["createVNode"])("div",u,[Object(o["createVNode"])(f,{core:h.HLSCore,src:h.liveArrSource,title:"test"},null,8,["core","src"])])])}n("d81d"),n("a9e3"),n("ac1f"),n("5319"),n("1276");var h=n("1558"),p=n.n(h),f=[{src:"https://static.smartisanos.cn/common/video/smartisan-tnt-jianguo.mp4",resolution:"240p"},{src:"https://static.smartisanos.cn/common/video/smartisan-tnt-jianguo.mp4",resolution:"360p"},{src:"https://static.smartisanos.cn/common/video/smartisan-tnt-jianguo.mp4",resolution:"720p"},{src:"https://static.smartisanos.cn/common/video/smartisan-tnt-jianguo.mp4",resolution:"1080p"}],v="https://static.smartisanos.cn/common/video/smartisant1.mp4",b=[{src:"https://gctxyc.liveplay.myqcloud.com/gc/yxhcyz_1/index.m3u8?contentid=2820180516001",resolution:"test"}],m="https://gctxyc.liveplay.myqcloud.com/gc/yxhcyz_1/index.m3u8?contentid=2820180516001",g="https://static.smartisanos.cn/pr/assets/images/smartisan-tnt-jianguo.190162f215c4f5f2aaabf38e5782b3af.jpg",y={name:"app",data:function(){return{players:{},HLSCore:p.a,liveArrSource:b,liveStrSource:m,source:f,source2:v,cover:g,logo:n("cf05"),barrages:[],barrages2:[]}},methods:{viewCore:function(e,t){console.log(e,t),this.players[e]=t},play:function(e){console.log("custom play: id =",e),this.players&&this.players[e]&&this.players[e].play()},change:function(){this.source=f},playFunc:function(){console.log("play!!!!")},autoPlay:function(e){console.log("auto play change to "+e)},loadFile:function(e){var t=new XMLHttpRequest,n="file:"===document.location.protocol?0:200;return t.open("GET",e,!1),t.overrideMimeType("text/html;charset=utf-8"),t.send(null),t.status===n?t.responseText:null}},created:function(){for(var e=["vue3 video player","awesome 棒棒棒","6000 units 6000弹幕","test 测试一下吧","60 FPS","test in fullscreen mode 全屏模式试一试"],t=[],n=0;n<6;n++)for(var o=0;o<1e3;o++){var a=parseInt(408927*Math.random());o%4===0?t.push({type:0,content:e[parseInt(Math.random()*e.length)],avatar:"https://api.multiavatar.com/LarchLiu.png",username:"LarchLiu"+a,time:parseFloat(a/1e3)}):o%4===1?t.push({type:3,content:e[parseInt(Math.random()*e.length)],time:parseFloat(a/1e3)}):o%4===2?t.push({type:1,content:e[parseInt(Math.random()*e.length)],time:parseFloat(a/1e3)}):t.push({type:2,content:e[parseInt(Math.random()*e.length)],time:parseFloat(a/1e3),color:parseInt(16777215*Math.random())})}this.barrages=t.sort((function(e,t){return e.time-t.time}));var r=this.loadFile("/vue3-video-player/158231237.xml");r=r.replace(/(?:[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,"");var i=(new DOMParser).parseFromString(r,"text/xml"),s=Array.apply(Array,i.querySelectorAll("d")).map((function(e){var t=e.getAttribute("p").split(","),n=e.textContent;return{content:n,time:parseFloat(parseInt(86698*Math.random())/1e3),type:[0,0,0,0,2,1][Number(t[1])],color:parseInt(t[3],10)}}));this.barrages2=s.sort((function(e,t){return e.time-t.time}))}};n("fe41");y.render=d;var O=y,j=(n("b0c0"),n("53ca")),w=n("f201"),N=n("e312"),E=n("0d2d"),C=n("a2a4"),V={"zh-CN":w,"pt-BR":C,jp:E,en:N},k={t:function(e,t){for(var n=e.split("."),o=n.length,a=k.locale,r=0;r<o;r++)Object.prototype.hasOwnProperty.call(a,n[r])&&(a=a[n[r]]);return a||t},setLocale:function(e){return"object"===Object(j["a"])(e)?k.locale=e:k.locale=V[e||"en"],k.locale}},S=k,L={class:"vcp-container",ref:"vcp-el"};function P(e,t,n,a,r,i){var s=Object(o["resolveComponent"])("Layers"),c=Object(o["resolveComponent"])("Dashboard"),l=Object(o["resolveComponent"])("MobileDashboard");return Object(o["openBlock"])(),Object(o["createBlock"])("div",L,[Object(o["createVNode"])("video",{ref:"vcp-video",title:n.title,cover:n.cover,loop:n.loop,playsinline:n.playsinline,src:i.source},null,8,["title","cover","loop","playsinline","src"]),Object(o["createVNode"])(s,e.$attrs,null,16),r.isMobile?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,controls:n.controls,muted:n.muted},{cusControls:Object(o["withCtx"])((function(){return[a.slots&&a.slots.cusControls?Object(o["renderSlot"])(e.$slots,"cusControls",{key:0}):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["controls","muted"])),r.isMobile?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:1,controls:n.controls,muted:n.muted},null,8,["controls","muted"])):Object(o["createCommentVNode"])("",!0)],512)}n("4160"),n("07ac"),n("159b");var _=n("5530"),D=(n("add7"),{loop:!1,volume:.8,muted:!1,autoplay:!1,preload:"metadata",playList:[],safeBufferTime:2,minPlayBufferTime:1,resolution:"720p",dashboardHideDelay:2e3,barrageFontSize:22,barrageOpacity:100,barragePosition:100}),A=D,B={ERROR_NO_MEDIA:"ERROR_NO_MEDIA",ERROR_AUTO_PLAY:"ERROR_AUTO_PLAY"},M={LIFECYCLE_INITING:"lifecycle_initing",LIFECYCLE_INITED:"lifecycle_inited",LIFECYCLE_PARSED:"lifecycle_parse",LIFECYCLE_STOP:"lifecycle_stop"},T={SOURCE_UPDATED:"SOURCE_UPDATED"},I={UI_DASHBOARD_SHOW:"ui_dashboard_show",UI_DASHBOARD_HIDE:"ui_dashboard_hide",UI_PLAY:"ui_play",UI_PAUSE:"ui_pause",UI_FULLSCREEN:"ui_fullscreen",UI_RESIZE:"ui_resize"},x={GLOBAL_AUTO_PLAY:"global-auto-play",GLOBAL_BARRAGE_FONT_SIZE:"global-barrage-font-size",GLOBAL_BARRAGE_OPACITY:"global-barrage-opacity",GLOBAL_BARRAGE_POSITION:"global-barrage-position"},R=Object(_["a"])(Object(_["a"])(Object(_["a"])(Object(_["a"])(Object(_["a"])(Object(_["a"])({},x),B),M),T),I),{},{SERVICE_LOADING:"service_loading",SERVICE_ENDED:"service_ended",LOADING_START:"loading_start",LOADING_END:"loading_end",CORE_TO_MP4:"core_to_mp4",PLAY:"play",PAUSE:"pause",LOADEDDATA:"loadeddata",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",ERROR:"error",DURATIONCHANGE:"durationchange",ENDED:"ended",TIMEUPDATE:"timeupdate",LOADEDMETADATA:"loadedmetadata",WAITING:"waiting",PLAYING:"playing",RETRY:"retry",SEEKED:"seeked",SEEKING:"seeking",VOLUMECHANGE:"volumechange",EXIT:"exit",PROGRESS:"progress",STALLED:"stalled",LOADSTART:"loadstart",RESOLUTION_UPDATE:"resolution_update"}),$=R,F={NO_SOURCE:{code:"2404",msg:"Prop `src` not found"},2502:"Media Network Error",2503:"Video Cannot DECODE",2504:"Video Cannot Play!",2701:"Parse Error",2801:"Not found reason"},z=F,H=["video/webm","video/mp4"],K=(n("4de4"),n("99af"),n("a15b"),n("fb6a"),n("b680"),n("d3b7"),n("25f0"),n("466d"),n("0347"));function U(e){return"string"===typeof e}var G=navigator.userAgent.toLowerCase();function Y(e){if(e=e||0,0===e||e===1/0||"NaN"===e.toString())return"00:00";var t=function(e){return e<10?"0"+e:""+e},n=Math.floor(e/3600),o=Math.floor((e-3600*n)/60),a=Math.floor(e-3600*n-60*o);return(n>0?[n,o,a]:[o,a]).map(t).join(":")}function W(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var q=function(){return!!G.match(/version\/([\d.]+).*safari/)};function X(e,t){if(0===t.length)return 0;for(var n=0;n<t.length;n++){var o=t.start(n),a=t.end(n);if(e>=o&&e<=a)return t.end(n)}return e}var Z=function(){return"object"!==("undefined"===typeof localStorage?"undefined":Object(j["a"])(localStorage))&&"object"!==("undefined"===typeof navigator?"undefined":Object(j["a"])(navigator))},J=function(e){var t=e&&e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()})).join("");return t.slice(0,1).toLowerCase()+t.slice(1)},Q=function(e){return"#"+("00000"+e.toString(16)).slice(-6)},ee=function(e){switch(e){case 0:return"right";case 1:return"top";case 2:return"bottom";case 3:return"left";default:return"right"}},te=Object(K["a"])(G).any,ne=Object(K["a"])(G).android,oe=Object(K["a"])(G).apple&&Object(K["a"])(G).apple.device,ae=/MQQBrowser/i.test(G),re=(/ucbrowser/i.test(G),/chrome/i.test(G)),ie=(/MicroMessenger/i.test(G),/firefox/i.test(G)),se=function(e){return!!(Array.isArray(e)&&"object"===Object(j["a"])(e[0])&&e[0].resolution&&e[0].src)};function ce(e){return se(e)?e.filter((function(e){return e.src&&e.resolution})):"string"===typeof e?[e]:e}function le(e,t){return Z()?!(!ie&&!re||"video/webm"!==e)||"video/mp4"===e:(t||(t=document.createElement("videos")),t.canPlayType(e))}n("c975");var ue=n("d4ec"),de=n("bee2"),he=(n("a434"),n("2ef0")),pe=n.n(he);function fe(e,t){if(t&&e){var n=t.split(" ");if(e.classList&&1===n.length)e.classList.add(t);else{var o=e.className.split(" ");o.push(t),e.className=o.join(" ")}}}function ve(e,t){if(e.classList)e.classList.remove(t);else{for(var n=e.className.split(" "),o=-1,a=0,r=n.length;a<r;a++)n[a]===t&&(o=a);o>-1&&n.splice(o,1),e.className=n.join(" ")}}function be(e,t){var n=t.parentNode;while(null!=n){if(n===e)return!0;n=n.parentNode}return!1}function me(e,t,n){if(t){var o=te?e.changedTouches[0].clientX:e.clientX,a=te?e.changedTouches[0].clientY:e.clientY,r=o-n.x,i=a-n.y;return r<=n.minLeft&&(r=n.minLeft),r>=n.maxLeft&&(r=n.maxLeft),i<=n.minTop&&(i=n.minTop),i>=n.maxTop&&(i=n.maxTop),{left:r,top:i}}}function ge(e){document.addEventListener("fullscreenchange",(function(){e(document.webkitIsFullScreen)}),!1),document.addEventListener("mozfullscreenchange",(function(){e(document.mozFullScreen)}),!1),document.addEventListener("msFullscreenElement",(function(){e(document.mozFullScreen)}),!1),document.addEventListener("webkitfullscreenchange",(function(){e(document.webkitIsFullScreen)}),!1)}function ye(e){window.addEventListener("resize",pe.a.throttle((function(){e()}),50))}var Oe=["play","playing","timeupdate","pause","seeking","waiting","loadedmetadata","loadeddata","loadstart","seeked","ended","durationchange","progress","canplaythrough","volumechange"],je=["muted","volume","loop","preload"],we=function(){function e(t){Object(ue["a"])(this,e),this.config=Object.assign({},A,t),this.$video=this.config.videoEl,this.$el=this.config.el,this._eventEmitter=t.eventEmitter,this.state={};var n=this.config.src;this.checkSource(n)&&(this.parse(n),this.init())}return Object(de["a"])(e,[{key:"parse",value:function(e){this.initResolution(e),this.initVideoType()}},{key:"checkSource",value:function(e){if(!e){var t=z.NO_SOURCE.code;return this.emit($.ERROR,{code:t}),!1}return!!(!Array.isArray(e)||e[0]&&e[0].src)}},{key:"setSource",value:function(e){var t=this;if(this.checkSource(e)){this.parse(e);var n=this.isPlaying();if(n){this.pause();var o=function e(){t.play(),t.$video.removeEventListener($.DURATIONCHANGE,e)};this.$video.addEventListener($.DURATIONCHANGE,o)}}}},{key:"init",value:function(){this.checkSource(this.config.src),this._autoRegisterEvents(),this._setVideoAttr(),this.setContainer(),this.setSize(),this._autoplay()}},{key:"setContainer",value:function(){te&&fe(this.$el,"mobile")}},{key:"setSize",value:function(){var e=this.$el.offsetWidth,t="";e<=763&&(t="small"),fe(this.$el,t)}},{key:"_autoplay",value:function(){var e=this;if(this.config.autoplay&&!te){var t=function(){var t=e.play();e.autoPlayPolicy(t)};t()}}},{key:"setConfig",value:function(e,t){je.indexOf(e)>=0&&(this.config[e]=t,this.$video[e]=t)}},{key:"initResolution",value:function(e){var t=this,n=this.config.resolution;this.medias=ce(e),this.medias.forEach((function(e){e.resolution===n&&(t.config.src=e.src)})),this.resolution=n,setTimeout((function(){t.emit($.SOURCE_UPDATED)}),200)}},{key:"initVideoType",value:function(){for(var e=this,t=function(t){for(var n=0;n<e.medias.length;n++)if(e.medias[n].type===t)return e.medias[n]},n=0;n<H.length;n++){var o=t(H[n]);if(le(H[n],this.$video)&&o)return this.config.src=o.src,this.$video.src=this.config.src,this.resolution="",void(this.medias=[o])}}},{key:"setResolution",value:function(e){var t=this,n=this.medias;if(n&&n.length>1)for(var o=0;o<n.length;o++)n[o].resolution===e&&function(){t.resolution=e;var a=t.isPlaying(),r=t.getCurrentTime();t.$video.src=n[o].src,t.emit($.SOURCE_UPDATED),t.$video.load(),a&&r<1&&t.$video.play();var i=$.CANPLAYTHROUGH,s=0,c=function e(){ne&&ae?(t.play(),1===s&&t.seek(r),s+=1):t.seek(r),ne&&ae&&!a&&t.pause(),t.$video.removeEventListener($.CANPLAYTHROUGH,e),2===s&&(t.$video.removeEventListener($.DURATIONCHANGE,e),s=0)},l=function e(){a&&t.play(),t.$video.removeEventListener($.SEEKED,e)},u=function e(){t.play(),t.$video.removeEventListener($.PLAYING,e)};ne&&ae&&(i=$.DURATIONCHANGE,t.play()),t.$video.addEventListener(i,c),t.$video.addEventListener($.SEEKED,l),t.$video.addEventListener($.PLAY,u)}()}},{key:"setAudio",value:function(e){}},{key:"_autoRegisterEvents",value:function(){var e=this;Oe.forEach((function(t){e.$video.addEventListener(t,(function(n){var o="on".concat(t);"function"===typeof e[o]&&e[o](n),e.emit(t,{name:t,target:e.$video})}))})),this.$video.addEventListener("error",(function(t){if(t.target.getAttribute("src"))if(t.target.error&&t.target.error.code){var n=Object.assign({},t.target.error,{code:"250"+t.target.error.code});e.emit($.ERROR,n)}else"object"!==Object(j["a"])(t)&&(t={code:5001,e:t}),e.emit($.ERROR,t)})),this.on($.CORE_TO_MP4,(function(){e.downgradeCore()})),this._bindProgressEvent()}},{key:"_bindProgressEvent",value:function(){var e=this,t=this.config,n=t.minPlayBUfferTime,o=t.safeBufferTime,a=function(){if(e.state.waiting_trigger){var t=e.getBufferTime(),a=e.getCurrentTime(),r=e.getDuration();if(!(a<2)&&!(r-a<n)){var i=t-a;t-a<n?(e.pause(),e.state.waiting_pause=!0,e.emit($.LOADING_START,!0)):e.state.waiting_pause&&i>o&&(e.play(),e.state.waiting_pause=!1)}}};this.on($.UI_PLAY,(function(){e.state.waiting_pause=!0}));var r=!1;this.on($.PLAY,(function(){r||(r=!0,e.on($.PROGRESS,a))})),this.on($.UI_PAUSE,(function(){e.state.waiting_trigger=!1})),this.on($.UI_PLAY,(function(){e.state.waiting_trigger=!0}))}},{key:"play",value:function(){return this.$video.play()}},{key:"pause",value:function(){this.$video.pause()}},{key:"isPlaying",value:function(){return!this.$video.paused&&!this.$video.ended}},{key:"replay",value:function(){this.$video.play()}},{key:"seek",value:function(e){this.$video.currentTime=e}},{key:"requestPictureInPicture",value:function(){var e=this.$video;try{e!==document.pictureInPictureElement?e.requestPictureInPicture():document.exitPictureInPicture()}catch(t){console.error(t)}}},{key:"onended",value:function(){var e=this.config.loop;e&&this.play()}},{key:"getDuration",value:function(){return this.$video&&this.$video.duration||0}},{key:"getCurrentTime",value:function(){var e=this.$video.currentTime||0;return e}},{key:"getBufferTime",value:function(){var e=this.$video,t=this.getCurrentTime();return X(t,e.buffered)}},{key:"getProgress",value:function(){return this.getCurrentTime()&&(this.getCurrentTime()/this.getDuration()*100).toFixed(2)||0}},{key:"getVolume",value:function(){return this.$video?this.$video.volume:1}},{key:"getVideoAttr",value:function(e){return this.$video[e]}},{key:"setVideoAttr",value:function(e,t){this.$video[e]=t}},{key:"_setVideoAttr",value:function(){var e=this;te&&(this.$video.setAttribute("x5-video-player-type","h5"),this.$video.setAttribute("x5-video-player-fullscreen",!1)),this.$video.loop=!1,je.forEach((function(t){e.config[t]&&(e.$video[t]=e.config[t])}))}},{key:"autoPlayPolicy",value:function(e){var t=this;void 0!==e&&e.catch((function(e){t.emit($.ERROR_AUTO_PLAY,e),t.config.autoplay=!1})).then((function(){}))}},{key:"setVolume",value:function(e){this.$video.volume=e}},{key:"setMuted",value:function(e){this.$video.muted=e,e&&this.emit($.VOLUMECHANGE,!0)}},{key:"setSpeed",value:function(e){this.$video.playbackRate=e}},{key:"destroy",value:function(){this.pause()}},{key:"getVideoElement",value:function(){return this.$video}},{key:"on",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"off",value:function(e,t){this._eventEmitter.off(e,t)}},{key:"emit",value:function(e,t){this._eventEmitter.emit(e,t)}},{key:"once",value:function(e,t){this._eventEmitter.once(e,t)}}],[{key:"debug",set:function(e){localStorage._vueCorePlayerDebug=!!e||""}}]),e}();window.VCPVideoCore=we;var Ne=we,Ee={};function Ce(e){var t=W();e._id=t;var n=e.core||Ne,o=new n(e);return o.id=t,Ee[t]=o,o}var Ve=n("c9fc"),ke=n.n(Ve),Se=ke()(),Le={data:function(){return{fullscreen:!1,isPlaying:!1,isError:!1,_playerKey:"",_events:{},_coreID:""}},beforeMount:function(){var e=this;this.on($.LIFECYCLE_INITING,(function(t){e.$player=t,e.$container=e.$player.$el})),this.on($.PLAY,(function(){e.isPlaying=!0})),this.on([$.PAUSE,$.ENDED],(function(){e.isPlaying=!1})),this.on($.ERROR,(function(){e.isError=!0})),ge((function(t){t?fe(e.$container,"fullscreen"):(ve(e.$container,"fullscreen"),e.fullscreen&&(e.fullscreen=!1)),e.emit($.UI_FULLSCREEN,t)})),ye((function(){e.emit($.UI_RESIZE,!0)}))},methods:{play:function(){this.$player.play()},pause:function(){this.$player.pause()},enterFullscreen:function(){var e,t=this.$container;t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.requestFullScreen?t.requestFullscreen():te&&oe&&null!==(e=t.firstChild)&&void 0!==e&&e.webkitEnterFullscreen&&t.firstChild.webkitEnterFullscreen(),this.fullscreen=!0},cancelFullscreen:function(){document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.cancelFullScreen&&document.cancelFullScreen(),this.fullscreen=!1},getFullscreen:function(){return!document.fullscreenElement&&!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.msFullscreenElement&&!document.webkitDisplayingFullscreen},on:function(e,t){var n,o=this;U(e)?(n=this.isGlobalEvent(e)?e:this.eventID(e),this._events[n]=t,Se.on(n,t)):Array.isArray(e)&&e.forEach((function(a){n=o.isGlobalEvent(a)?e:o.eventID(a),o._events[n]=t,Se.on(n,t)}))},emit:function(e,t){var n;n=this.isGlobalEvent(e)?e:this.eventID(e),Se.emit(n,t)},off:function(e,t){var n;n=this.isGlobalEvent(e)?e:this.eventID(e),Se.off(n,t)},removeAllEvents:function(){for(var e in this._events)Se.off(e,this._events[e])},addClass:function(e){this.$container.classList.add(e)},removeClass:function(e){this.$container.classList.remove(e)},eventID:function(e){return"".concat(e,"-").concat(this._playerKey)},isGlobalEvent:function(e){return!!e.match(/global-.*/)}},beforeUnmount:function(){this.removeAllEvents()}},Pe=Le,_e={class:"vcp-dashboard",autoplay:"",ref:"dashboard"};function De(e,t,n,a,r,i){var s=Object(o["resolveComponent"])("Progress"),c=Object(o["resolveComponent"])("Controls");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("div",_e,[Object(o["createVNode"])(s),Object(o["createVNode"])(c,{muted:n.muted},{cusControls:Object(o["withCtx"])((function(){return[a.slots&&a.slots.cusControls?Object(o["renderSlot"])(e.$slots,"cusControls",{key:0}):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["muted"])],512)),[[o["vShow"],r.show]])}var Ae={class:"vcp-progress",ref:"container"},Be={key:0,class:"preview-time"};function Me(e,t,n,a,r,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"vcp-progress-hover",ref:"input",onClick:t[3]||(t[3]=function(){return i.seek&&i.seek.apply(i,arguments)})},[Object(o["createVNode"])("div",Ae,[Object(o["createVNode"])("div",{class:"vcp-progtess-preview",style:{width:r.previewProgress+"%"}},[r.previewTime?(Object(o["openBlock"])(),Object(o["createBlock"])("div",Be,Object(o["toDisplayString"])(r.previewTime),1)):Object(o["createCommentVNode"])("",!0)],4),Object(o["createVNode"])("div",{class:"vcp-progress-loaded",style:{width:r.bufferProgress+"%"}},null,4),Object(o["createVNode"])("div",{class:"vcp-progress-played",style:{width:r.progress+"%"}},[Object(o["createVNode"])("div",{class:"thumb-drag",onTouchstart:t[1]||(t[1]=function(){return i.startDrag&&i.startDrag.apply(i,arguments)}),onMousedown:t[2]||(t[2]=function(){return i.startDrag&&i.startDrag.apply(i,arguments)}),ref:"thumb"},null,544)],4)],512)],512)}var Te={name:"Progress",props:{visible:Boolean},mixins:[Pe],setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},data:function(){return{progress:0,bufferProgress:0,previewProgress:0,previewTime:""}},beforeMount:function(){var e=this;this.on($.TIMEUPDATE,(function(){if(!e._dragEl){var t=e.$player.getCurrentTime(),n=e.$player.getDuration();e.progress=(t/n*100).toFixed(2)}})),this.on($.PROGRESS,(function(){var t=e.$player.getBufferTime(),n=e.$player.getDuration();t>0&&n>0&&(e.bufferProgress=(t/n*100).toFixed(2))})),this.on($.LOADSTART,(function(){var t=e.$player.getBufferTime(),n=e.$player.getDuration();e.bufferProgress=(t/n*100).toFixed(2)}))},mounted:function(){var e=this;te||(this.$refs.container.addEventListener("mousemove",this.showTime,!1),this.$refs.container.addEventListener("mouseenter",this.showTime,!1),this.$refs.container.addEventListener("mouseleave",(function(){e.previewTime=""}),!1))},methods:{showTime:function(e){var t=e.currentTarget.getBoundingClientRect(),n=e.pageX-t.left,o=e.currentTarget.offsetWidth,a=this.$player.getDuration(),r=(n/o*100).toFixed(2);this.previewProgress=r,this.previewTime=Y(n/o*a)},seek:function(e){var t=e.currentTarget.getBoundingClientRect(),n=e.pageX-t.left,o=e.currentTarget.offsetWidth,a=(n/o*100).toFixed(2);this.progress=a;var r=this.$player.getDuration();this.$player.seek(n/o*r)},startDrag:function(e){this.initDrag(e),this.startSeek=!0},initDrag:function(e){e.preventDefault();var t=this;this._dragEl=this.$refs.thumb;var n=this.$refs.input.offsetWidth,o=getComputedStyle(this._dragEl,null).marginLeft;o&&(o=parseFloat(o));var a={x:(te?e.touches[0].clientX:e.pageX)-this._dragEl.offsetLeft+o-this._dragEl.clientWidth,y:(te?e.touches[0].clientY:e.clientY)-this._dragEl.offsetTop,maxLeft:n},r=function(e){if(t._dragEl){var o=me(e,t._dragEl,a);if(o){var r=o.left,i=(r/n*100).toFixed(2);t.progress=i;var s=t.$player.getDuration();t.$player.seek(r/n*s)}}},i=function e(){if(t._dragEl=null,te)return t.$refs.container.removeEventListener("touchmove",r,!1),void document.removeEventListener("touchend",e,!1);document.removeEventListener("mousemove",r,!1),document.removeEventListener("mouseup",e,!1)};if(te)return t.$refs.container.addEventListener("touchmove",r,!1),void document.addEventListener("touchend",i,!1);document.addEventListener("mousemove",r,!1),document.addEventListener("mouseup",i,!1)}}};n("aef1");Te.render=Me;var Ie=Te,xe={class:"vcp-controls"},Re={class:"playback-control"},$e={class:"setting-control"};function Fe(e,t,n,a,r,i){var s=Object(o["resolveComponent"])("play-pause-cntrol"),c=Object(o["resolveComponent"])("time-span"),l=Object(o["resolveComponent"])("volume-control"),u=Object(o["resolveComponent"])("picture-in-picture"),d=Object(o["resolveComponent"])("settings-control"),h=Object(o["resolveComponent"])("fullscreen-control");return Object(o["openBlock"])(),Object(o["createBlock"])("div",xe,[Object(o["createVNode"])("div",Re,[Object(o["createVNode"])(s),Object(o["createVNode"])(c)]),Object(o["createVNode"])("div",$e,[Object(o["renderSlot"])(e.$slots,"cusControls"),Object(o["createVNode"])(l,{muted:n.muted},null,8,["muted"]),Object(o["createVNode"])(u),Object(o["createVNode"])(d),Object(o["createVNode"])(h)])])}var ze={class:"vue-core-video-player-control"},He=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"48",viewBox:"0 0 36 48"},[Object(o["createVNode"])("g",{transform:"translate(-950 -398)"},[Object(o["createVNode"])("rect",{width:"12",height:"48",transform:"translate(950 398)",fill:"#fff"}),Object(o["createVNode"])("rect",{width:"12",height:"48",transform:"translate(974 398)",fill:"#fff"})])],-1),Ke={class:"tips"},Ue=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"47",viewBox:"0 0 41 47"},[Object(o["createVNode"])("path",{d:"M23.5,0,47,41H0Z",transform:"translate(41) rotate(90)",fill:"#fff"})],-1),Ge={class:"tips"};function Ye(e,t,n,a,r,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",ze,[e.isPlaying?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"btn-control btn-pause",onClick:t[1]||(t[1]=function(){return e.pause&&e.pause.apply(e,arguments)})},[He,Object(o["createVNode"])("span",Ke,Object(o["toDisplayString"])(e.$tvvp("dashboard.btn.pause")),1)])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:1,class:"btn-control btn-play",onClick:t[2]||(t[2]=function(){return e.play&&e.play.apply(e,arguments)})},[Ue,Object(o["createVNode"])("span",Ge,Object(o["toDisplayString"])(e.$tvvp("dashboard.btn.play")),1)]))])}var We={name:"PlayPauseControl",mixins:[Pe],props:{visible:Boolean},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey}};n("b3de");We.render=Ye;var qe=We,Xe={class:"vue-core-video-player-control timespan"},Ze={class:"time-current"},Je=Object(o["createVNode"])("span",{class:"time-split"}," / ",-1),Qe={class:"time-duration"};function et(e,t,n,a,r,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",Xe,[Object(o["createVNode"])("span",Ze,Object(o["toDisplayString"])(r.currentTime),1),Je,Object(o["createVNode"])("span",Qe,Object(o["toDisplayString"])(r.duration),1)])}var tt={name:"TimeSpan",props:{visible:Boolean},mixins:[Pe],setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},data:function(){return{currentTime:"00:00",duration:"--:--"}},beforeMount:function(){var e=this;this.on($.TIMEUPDATE,(function(){var t=e.$player.getCurrentTime();if(t){e.currentTime=Y(t);var n=e.$player.getDuration();n!==e.duration&&(e.duration=Y(n))}})),this.on($.DURATIONCHANGE,(function(){var t=e.$player.getDuration();e.duration=Y(t)}))}};n("e72d");tt.render=et;var nt=tt,ot={class:"vue-core-video-player-control volume-control"},at=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23.542",height:"23",viewBox:"0 0 23.542 23"},[Object(o["createVNode"])("path",{"data-name":"15",fill:"#fff",d:"M0 5.5h7v12H0z"}),Object(o["createVNode"])("path",{"data-name":"3",d:"M.5 11.5L12.5 0v23z",fill:"#fff"}),Object(o["createVNode"])("g",{"data-name":"12 1",fill:"none",stroke:"#fff","stroke-width":"1.5"},[Object(o["createVNode"])("path",{"data-name":"2",d:"M15.787 8.349a2.89 2.89 0 0 1 3.04 3.126 2.763 2.763 0 0 1-3.142 2.833","stroke-width":"1.50021"}),Object(o["createVNode"])("path",{"data-name":"3",d:"M16.052 4.807s6.917-.147 6.61 6.796-6.83 6.16-6.83 6.16","stroke-width":"1.50021"})])],-1),rt=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24.485",height:"23",viewBox:"0 0 24.485 23"},[Object(o["createVNode"])("g",{fill:"#fff"},[Object(o["createVNode"])("path",{"data-name":"矩形 15",d:"M0 5.5h7v12H0z"}),Object(o["createVNode"])("path",{"data-name":"多边形 3",d:"M.5 11.5L12.5 0v23z"}),Object(o["createVNode"])("g",{"data-name":"组 3"},[Object(o["createVNode"])("path",{"data-name":"矩形 39",d:"M23.071 7.257l1.414 1.414-7.07 7.071L16 14.328z"}),Object(o["createVNode"])("path",{"data-name":"矩形 40",d:"M16 8.672l1.414-1.414 7.071 7.07-1.414 1.415z"})])])],-1),it={class:"btn-control-panel"},st={class:"volume-info"};function ct(e,t,n,a,r,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",ot,[r.isMuted?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"btn-control btn-volume",onClick:t[1]||(t[1]=function(){return i.toggle&&i.toggle.apply(i,arguments)})},[at])),r.isMuted?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:1,class:"btn-control btn-mute",onClick:t[2]||(t[2]=function(){return i.toggle&&i.toggle.apply(i,arguments)})},[rt])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",it,[Object(o["createVNode"])("div",{class:"progress",onClick:t[5]||(t[5]=function(){return i.seek&&i.seek.apply(i,arguments)}),ref:"progress"},[Object(o["createVNode"])("div",{class:"volume-current",style:{height:r.volume+"%"}},[Object(o["createVNode"])("div",{class:"thumb-drag",onTouchstart:t[3]||(t[3]=function(){return i.startDrag&&i.startDrag.apply(i,arguments)}),onMousedown:t[4]||(t[4]=function(){return i.startDrag&&i.startDrag.apply(i,arguments)})},null,32)],4)],512),Object(o["createVNode"])("div",st,Object(o["toDisplayString"])(r.volume)+"%",1)])])}var lt={name:"Volume",props:{visible:Boolean,muted:Boolean},mixins:[Pe],setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey,this.volume=this.muted?0:parseInt(100*A.volume)},data:function(){return{panelShow:!1,volume:0,isMuted:this.muted}},methods:{seek:function(e){var t=e.offsetY;"volume-current"===e.target.className?t+=e.target.offsetTop:"thumb-drag"===e.target.className&&(t-=e.target.clientHeight/2,t+=e.target.offsetParent.offsetTop);var n=e.currentTarget.offsetHeight,o=1-t/n;o=o<0?0:o,o=o>1?1:o,this.isMuted&&this.$player.setMuted(!1),this.$player.setVolume(o,!0),this.setRangeValue(o)},startDrag:function(e){e.preventDefault();var t=this;this._dragEl=e.target;var n=this.$refs.progress.offsetHeight,o=e.offsetY-this._dragEl.clientHeight/2+this._dragEl.offsetParent.offsetTop,a={x:(te?e.touches[0].clientX:e.pageX)-this._dragEl.offsetLeft,y:(te?e.touches[0].clientY:e.clientY)-this._dragEl.offsetTop-o,maxTop:n},r=function(e){if(t._dragEl){var o=me(e,t._dragEl,a);if(o){var r=o.top,i=1-r/n;i=i<0?0:i,i=i>1?1:i,t.isMuted&&t.$player.setMuted(!1),t.$player.setVolume(i,!0),t.setRangeValue(i)}}},i=function e(){if(t._dragEl=null,te)return t.$refs.progress.removeEventListener("touchmove",r,!1),void document.removeEventListener("touchend",e,!1);document.removeEventListener("mousemove",r,!1),document.removeEventListener("mouseup",e,!1)};if(te)return t.$refs.progress.addEventListener("touchmove",r,!1),void document.addEventListener("touchend",i,!1);document.addEventListener("mousemove",r,!1),document.addEventListener("mouseup",i,!1)},setRangeValue:function(e){this.volume=parseInt(100*e)},toggle:function(){this.isMuted=!this.isMuted,this.isMuted?(this.$player.setMuted(!0),this.volume=0):(this.$player.setMuted(!1),this.volume=parseInt(100*this.$player.getVolume()))}}};n("ad79");lt.render=ct;var ut=lt,dt={class:"vue-core-video-player-control"},ht=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"20",viewBox:"0 0 28 20"},[Object(o["createVNode"])("g",{fill:"#fff"},[Object(o["createVNode"])("g",{"data-name":"6 7"},[Object(o["createVNode"])("g",{"data-name":"4 1"},[Object(o["createVNode"])("path",{"data-name":"7",d:"M16 0h10v2H16z"}),Object(o["createVNode"])("path",{"data-name":"8",d:"M26 0h2v6h-2z"})]),Object(o["createVNode"])("g",{"data-name":"5 1"},[Object(o["createVNode"])("path",{"data-name":"9",d:"M18 18h10v2H18z"}),Object(o["createVNode"])("path",{"data-name":"10",d:"M26 14h2v6h-2z"})])]),Object(o["createVNode"])("g",{"data-name":"6 8"},[Object(o["createVNode"])("g",{"data-name":"4 1"},[Object(o["createVNode"])("path",{"data-name":"7",d:"M12 20H2v-2h10z"}),Object(o["createVNode"])("path",{"data-name":"8",d:"M2 20H0v-6h2z"})]),Object(o["createVNode"])("g",{"data-name":"5 1"},[Object(o["createVNode"])("path",{"data-name":"9",d:"M10 2H0V0h10z"}),Object(o["createVNode"])("path",{"data-name":"10",d:"M2 6H0V0h2z"})])])])],-1),pt={class:"tips"},ft=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"18",viewBox:"0 0 25 18"},[Object(o["createVNode"])("g",{fill:"#fff"},[Object(o["createVNode"])("g",{"data-name":"6 9"},[Object(o["createVNode"])("g",{"data-name":"4 1"},[Object(o["createVNode"])("path",{"data-name":"7",d:"M15 5h10v2H15z"}),Object(o["createVNode"])("path",{"data-name":"8",d:"M15 0h2v6h-2z"})]),Object(o["createVNode"])("g",{"data-name":"5 1"},[Object(o["createVNode"])("path",{"data-name":"9",d:"M15 12h10v2H15z"}),Object(o["createVNode"])("path",{"data-name":"10",d:"M15 12h2v6h-2z"})])]),Object(o["createVNode"])("g",{"data-name":"6 10"},[Object(o["createVNode"])("g",{"data-name":"4 1"},[Object(o["createVNode"])("path",{"data-name":"7",d:"M10 14H0v-2h10z"}),Object(o["createVNode"])("path",{"data-name":"8",d:"M10 18H8v-6h2z"})]),Object(o["createVNode"])("g",{"data-name":"5 1"},[Object(o["createVNode"])("path",{"data-name":"9",d:"M10 6H0V4h10z"}),Object(o["createVNode"])("path",{"data-name":"10",d:"M10 6H8V0h2z"})])])])],-1),vt={class:"tips"};function bt(e,t,n,a,r,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",dt,[e.fullscreen?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"btn-control btn-fullscreen",onClick:t[1]||(t[1]=function(){return e.enterFullscreen&&e.enterFullscreen.apply(e,arguments)})},[ht,Object(o["createVNode"])("div",pt,Object(o["toDisplayString"])(e.$tvvp("dashboard.btn.fullscreen")),1)])),e.fullscreen?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:1,class:"btn-control btn-off-fullscreen",onClick:t[2]||(t[2]=function(){return e.cancelFullscreen&&e.cancelFullscreen.apply(e,arguments)})},[ft,Object(o["createVNode"])("span",vt,Object(o["toDisplayString"])(e.$tvvp("dashboard.btn.exitFullscreen")),1)])):Object(o["createCommentVNode"])("",!0)])}var mt={name:"Fullscreen",mixins:[Pe],props:{visible:Boolean},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey}};n("0c6f");mt.render=bt;var gt=mt,yt={class:"vue-core-video-player-control settings-control"},Ot=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.971",height:"31.971",viewBox:"0 0 31.971 31.971"},[Object(o["createVNode"])("g",{"data-name":"7",transform:"translate(6.985 6.985)",fill:"none",stroke:"#fff","stroke-width":"5"},[Object(o["createVNode"])("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),Object(o["createVNode"])("circle",{cx:"9",cy:"9",r:"6.5"})]),Object(o["createVNode"])("g",{"data-name":"15 10",fill:"#fff"},[Object(o["createVNode"])("g",{"data-name":"14 1"},[Object(o["createVNode"])("g",{"data-name":"13 1"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M13.985 3.985h4v3h-4z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M15.985 3.985l3 4h-6z"})]),Object(o["createVNode"])("g",{"data-name":"13 2"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M17.985 27.985h-4v-3h4z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M15.985 27.985l-3-4h6z"})])]),Object(o["createVNode"])("g",{"data-name":"14 2"},[Object(o["createVNode"])("g",{"data-name":"13 1"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M23.056 6.085l2.829 2.829-2.122 2.12-2.828-2.828z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M24.47 7.5l-.707 4.95-4.242-4.244z"})]),Object(o["createVNode"])("g",{"data-name":"13 2"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M8.914 25.884l-2.828-2.828 2.12-2.122 2.83 2.829z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M7.5 24.47l.707-4.95 4.243 4.243z"})])])]),Object(o["createVNode"])("g",{"data-name":"15 11",fill:"#fff"},[Object(o["createVNode"])("g",{"data-name":"14 1"},[Object(o["createVNode"])("g",{"data-name":"13 1"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M23.056 6.086l2.828 2.828-2.12 2.122-2.83-2.829z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M24.47 7.5l-.707 4.95-4.242-4.243z"})]),Object(o["createVNode"])("g",{"data-name":"13 2"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M8.914 25.885l-2.828-2.828 2.12-2.122 2.83 2.829z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M7.5 24.47l.707-4.949 4.242 4.243z"})])]),Object(o["createVNode"])("g",{"data-name":"14 2"},[Object(o["createVNode"])("g",{"data-name":"13 1"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M27.985 13.985v4h-3v-4z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M27.985 15.985l-4 3v-6z"})]),Object(o["createVNode"])("g",{"data-name":"13 2"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M3.985 17.985v-4h3v4z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M3.985 15.985l4-3v6z"})])])]),Object(o["createVNode"])("g",{"data-name":"15 12",fill:"#fff"},[Object(o["createVNode"])("g",{"data-name":"14 1"},[Object(o["createVNode"])("g",{"data-name":"13 1"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M27.985 13.985v4h-3v-4z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M27.985 15.985l-4 3v-6z"})]),Object(o["createVNode"])("g",{"data-name":"13 2"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M3.985 17.985v-4h3v4z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M3.985 15.985l4-3v6z"})])]),Object(o["createVNode"])("g",{"data-name":"14 2"},[Object(o["createVNode"])("g",{"data-name":"13 1"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M25.885 23.056l-2.829 2.829-2.12-2.122 2.828-2.828z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M24.47 24.47l-4.95-.707 4.244-4.242z"})]),Object(o["createVNode"])("g",{"data-name":"13 2"},[Object(o["createVNode"])("path",{"data-name":"17",d:"M6.086 8.914l2.828-2.828 2.122 2.12-2.829 2.83z"}),Object(o["createVNode"])("path",{"data-name":"4",d:"M7.5 7.5l4.95.707-4.243 4.243z"})])])])],-1),jt={class:"current-panel"},wt={class:"item-name"},Nt={class:"item-control"},Et={class:"item-name"},Ct={class:"item-control"},Vt={class:"item-name"},kt=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5.963",height:"11.568",viewBox:"0 0 5.963 11.568"},[Object(o["createVNode"])("path",{"data-name":"4",d:"M.809.616l3.9 5-3.9 5.368",fill:"none",stroke:"#fff","stroke-width":"2"})],-1),St={class:"item-name"},Lt=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5.963",height:"11.568",viewBox:"0 0 5.963 11.568"},[Object(o["createVNode"])("path",{"data-name":"4",d:"M.809.616l3.9 5-3.9 5.368",fill:"none",stroke:"#fff","stroke-width":"2"})],-1),Pt={class:"resolution-list animated fadeInRight"},_t=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5.963",height:"11.568",viewBox:"0 0 5.963 11.568"},[Object(o["createVNode"])("path",{"data-name":"5",d:"M5.154.616l-3.9 5 3.9 5.368",fill:"none",stroke:"#fff","stroke-width":"2"})],-1),Dt={key:0,class:"speed-list animated fadeInRight"},At=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5.963",height:"11.568",viewBox:"0 0 5.963 11.568"},[Object(o["createVNode"])("path",{"data-name":"5",d:"M5.154.616l-3.9 5 3.9 5.368",fill:"none",stroke:"#fff","stroke-width":"2"})],-1);function Bt(e,t,n,a,r,i){var s=Object(o["resolveComponent"])("widgets-switch");return Object(o["openBlock"])(),Object(o["createBlock"])("div",yt,[Object(o["createVNode"])("div",{class:"btn-control btn-settings",onClick:t[1]||(t[1]=function(){return i.toggle&&i.toggle.apply(i,arguments)})},[Ot]),Object(o["withDirectives"])(Object(o["createVNode"])("div",{class:"btn-control-panel",onClick:t[11]||(t[11]=function(){return i.preventHide&&i.preventHide.apply(i,arguments)})},[Object(o["withDirectives"])(Object(o["createVNode"])("ul",jt,[Object(o["createVNode"])("li",null,[Object(o["createVNode"])("span",wt,Object(o["toDisplayString"])(e.$tvvp("dashboard.settings.autoplay")),1),Object(o["createVNode"])("div",Nt,[Object(o["createVNode"])(s,{ref:"autoplaySwitch",onChange:i.changeAutoplaySettings},null,8,["onChange"])])]),Object(o["createVNode"])("li",null,[Object(o["createVNode"])("span",Et,Object(o["toDisplayString"])(e.$tvvp("dashboard.settings.loop")),1),Object(o["createVNode"])("div",Ct,[Object(o["createVNode"])(s,{ref:"loopSwitch",onChange:i.changeLoopSettings},null,8,["onChange"])])]),Object(o["createVNode"])("li",null,[Object(o["createVNode"])("span",Vt,Object(o["toDisplayString"])(e.$tvvp("dashboard.settings.speed")),1),Object(o["createVNode"])("div",{class:"item-control",onClick:t[2]||(t[2]=function(){return i.showSpeedPanel&&i.showSpeedPanel.apply(i,arguments)})},[Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(r.speed)+"x",1),kt])]),Object(o["withDirectives"])(Object(o["createVNode"])("li",null,[Object(o["createVNode"])("span",St,Object(o["toDisplayString"])(e.$tvvp("dashboard.settings.resolution")),1),r.resolution?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"item-control",onClick:t[3]||(t[3]=function(){return i.showResolutionPanel&&i.showResolutionPanel.apply(i,arguments)})},[Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(r.resolution),1),Lt])):Object(o["createCommentVNode"])("",!0)],512),[[o["vShow"],r.medias.length>1]])],512),[[o["vShow"],r.currentPanel]]),Object(o["withDirectives"])(Object(o["createVNode"])("ul",Pt,[Object(o["createVNode"])("li",{onClick:t[4]||(t[4]=function(){return i.backCurrentPanel&&i.backCurrentPanel.apply(i,arguments)})},[_t,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$tvvp("dashboard.btn.back")),1)]),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(r.medias,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:t,onClick:function(t){return i.setResolution(e)}},Object(o["toDisplayString"])(e.resolution),9,["onClick"])})),128))],512),[[o["vShow"],r.resolutionListPanel]]),r.speedListPanel?(Object(o["openBlock"])(),Object(o["createBlock"])("ul",Dt,[Object(o["createVNode"])("li",{onClick:t[5]||(t[5]=function(){return i.backCurrentPanel&&i.backCurrentPanel.apply(i,arguments)})},[At,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$tvvp("dashboard.btn.back")),1)]),Object(o["createVNode"])("li",{onClick:t[6]||(t[6]=function(){return i.setSpeed&&i.setSpeed.apply(i,arguments)}),"data-val":"0.5"},"0.5x"),Object(o["createVNode"])("li",{onClick:t[7]||(t[7]=function(){return i.setSpeed&&i.setSpeed.apply(i,arguments)}),"data-val":"1"},"1x"),Object(o["createVNode"])("li",{onClick:t[8]||(t[8]=function(){return i.setSpeed&&i.setSpeed.apply(i,arguments)}),"data-val":"1.25"},"1.25x"),Object(o["createVNode"])("li",{onClick:t[9]||(t[9]=function(){return i.setSpeed&&i.setSpeed.apply(i,arguments)}),"data-val":"1.5"},"1.5x"),Object(o["createVNode"])("li",{onClick:t[10]||(t[10]=function(){return i.setSpeed&&i.setSpeed.apply(i,arguments)}),"data-val":"2"},"2x")])):Object(o["createCommentVNode"])("",!0)],512),[[o["vShow"],r.panelShow]])])}function Mt(e,t,n,a,r,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:["vcp-switch",{open:r.isOpen}],onClick:t[1]||(t[1]=function(){return i.toggle&&i.toggle.apply(i,arguments)})},null,2)}var Tt={name:"setting-switch",props:{openStatus:Boolean},data:function(){return{isOpen:!1}},methods:{toggle:function(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},switch:function(e){this.isOpen=e}}};n("cc02");Tt.render=Mt;var It=Tt,xt={name:"Settings",props:{visible:Boolean},mixins:[Pe],components:{"widgets-switch":It},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},data:function(){return{autoplay:!1,loop:!1,resolution:"",panelShow:!1,currentPanel:!0,resolutionListPanel:!1,speedListPanel:!1,speed:1,medias:[]}},methods:{toggle:function(e){e&&e.stopPropagation(),this.panelShow=!this.panelShow,this.panelShow?this.addClass("settings-open"):this.removeClass("settings-open")},preventHide:function(e){e.stopPropagation()},showResolutionPanel:function(e){this.medias.length<=1||(this.currentPanel=!1,this.resolutionListPanel=!0)},showSpeedPanel:function(e){this.currentPanel=!1,this.speedListPanel=!0},backCurrentPanel:function(){this.currentPanel=!0,this.speedListPanel=!1,this.resolutionListPanel=!1},setResolution:function(e){this.resolution!==e.resolution?(this.$player.setResolution(e.resolution),this.backCurrentPanel(),this.toggle()):this.backCurrentPanel()},setSpeed:function(e){var t=+e.target.dataset.val;this.speed=t,this.$player.setSpeed(t),this.backCurrentPanel()},changeAutoplaySettings:function(e){this.emit($.GLOBAL_AUTO_PLAY,e)},changeLoopSettings:function(e){this.$player.setConfig("loop",e)}},mounted:function(){var e=this;this.on($.SOURCE_UPDATED,(function(){e.medias=e.$player.medias,e.resolution=e.$player.resolution})),this.on($.LIFECYCLE_INITING,(function(t){var n=t.config,o=n.autoplay,a=n.loop;o&&e.$refs.autoplaySwitch.switch(o),a&&e.$refs.loopSwitch.switch(a)})),this.on($.GLOBAL_AUTO_PLAY,(function(t){e.$refs.autoplaySwitch.switch(t)})),document.addEventListener("click",(function(){e.panelShow&&(e.panelShow=!1,e.speedListPanel=!1,e.resolutionListPanel=!1,e.removeClass("settings-open"))}))}};n("9ad1");xt.render=Bt;var Rt=xt,$t={class:"btn-control btn-pip"},Ft=Object(o["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"16",viewBox:"0 0 28 16"},[Object(o["createVNode"])("g",{"data-name":"6 13"},[Object(o["createVNode"])("g",{"data-name":"5 1",fill:"#fff"},[Object(o["createVNode"])("path",{"data-name":"9",d:"M18 14h10v2H18z"}),Object(o["createVNode"])("path",{"data-name":"10",d:"M26 9h2v6h-2z"})])]),Object(o["createVNode"])("g",{"data-name":"6 14",fill:"#fff"},[Object(o["createVNode"])("g",{"data-name":"4 1"},[Object(o["createVNode"])("path",{"data-name":"7",d:"M12 16H2v-2h10z"}),Object(o["createVNode"])("path",{"data-name":"8",d:"M2 16H0V6h2z"})]),Object(o["createVNode"])("path",{"data-name":"41",d:"M28 2H0V0h28z"})])],-1),zt={class:"tips"};function Ht(e,t,n,a,r,i){return r.show?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"vue-core-video-player-control",onClick:t[1]||(t[1]=function(){return i.requestPictureInPicture&&i.requestPictureInPicture.apply(i,arguments)})},[Object(o["createVNode"])("div",$t,[Ft,Object(o["createVNode"])("div",zt,Object(o["toDisplayString"])(e.$tvvp("dashboard.btn.pip")),1)])])):Object(o["createCommentVNode"])("",!0)}var Kt=function(){if("pictureInPictureEnabled"in document)return!0;var e=document.createElement("video");return!(!e.requestPictureInPicture||"function"!==typeof e.requestPictureInPicture)},Ut={name:"PictureInPicture",mixins:[Pe],props:{visible:Boolean},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},data:function(){return{show:!1}},created:function(){Kt&&(this.show=!0),this._playerKey=this.playerKey},methods:{requestPictureInPicture:function(){this.$player.requestPictureInPicture()}}};n("d3eb");Ut.render=Ht;var Gt=Ut,Yt={name:"Controls",components:{"play-pause-cntrol":qe,"time-span":nt,"volume-control":ut,"fullscreen-control":gt,"settings-control":Rt,"picture-in-picture":Gt},props:{visible:Boolean,muted:Boolean}};n("439b");Yt.render=Fe;var Wt=Yt,qt={x:null,y:null},Xt={name:"Dashboard",components:{Progress:Ie,Controls:Wt},props:{controls:[Boolean,String],muted:Boolean},data:function(){return{show:!0}},mixins:[Pe],setup:function(){var e=Object(o["inject"])("playerKey"),t=Object(o["reactive"])({});return{slots:t,playerKey:e}},created:function(){var e=Object(o["getCurrentInstance"])();this.slots=e.slots?e.slots:{},this._playerKey=this.playerKey},methods:{showDashboard:function(e){var t=this;window.clearTimeout(this._hideTimeout),this.show=!0,this.emit($.UI_DASHBOARD_SHOW),0===e||(this._hideTimeout=setTimeout((function(){t.hideDashboard()}),e||A.dashboardHideDelay))},hideDashboard:function(){this.show=!1,this.emit($.UI_DASHBOARD_HIDE)},_initAutoMode:function(){var e=this.$refs.dashboard.parentNode;te?e.addEventListener("touchend",this._onTouchend.bind(this),!0):(e.addEventListener("mousemove",this._onMousemove.bind(this)),e.addEventListener("mouseleave",this._onMouseleave.bind(this)),e.addEventListener("mouseover",this._onMouseover.bind(this),!0)),this.showDashboard(A.dashboardHideDelay)},_onMousemove:function(e){return e.pageX===qt.x&&e.pageY===qt.y?(qt.x=e.pageX,void(qt.y=e.pageY)):(qt.x=e.pageX,qt.y=e.pageY,be(this._el,e.target)?this.showDashboard(0):void this.showDashboard())},_onMouseleave:function(){this.showDashboard(200)},_onMouseover:function(){this.showDashboard(0)},_onTouchend:function(){this.showDashboard()}},mounted:function(){var e=this.controls;e?"fixed"===e?this.show=!0:this._initAutoMode():this.show=!1}};n("3532");Xt.render=De;var Zt=Xt,Jt={class:"vcp-m-dashboard",autoplay:"",ref:"dashboard"};function Qt(e,t,n,a,r,i){var s=Object(o["resolveComponent"])("MobileControls"),c=Object(o["resolveComponent"])("Progress");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("div",Jt,[Object(o["createVNode"])(s,{muted:n.muted},null,8,["muted"]),Object(o["createVNode"])(c)],512)),[[o["vShow"],r.show]])}var en={class:"vcp-controls"},tn={class:"playback-control"},nn={class:"setting-control"};function on(e,t,n,a,r,i){var s=Object(o["resolveComponent"])("time-span"),c=Object(o["resolveComponent"])("picture-in-picture"),l=Object(o["resolveComponent"])("settings-control"),u=Object(o["resolveComponent"])("fullscreen-control");return Object(o["openBlock"])(),Object(o["createBlock"])("div",en,[Object(o["createVNode"])("div",tn,[Object(o["createVNode"])(s)]),Object(o["createVNode"])("div",nn,[Object(o["createVNode"])(c),Object(o["createVNode"])(l),Object(o["createVNode"])(u)])])}var an={name:"Controls",components:{"time-span":nt,"fullscreen-control":gt,"settings-control":Rt,"picture-in-picture":Gt},props:{visible:Boolean,muted:Boolean}};n("54f1");an.render=on;var rn=an,sn={x:null,y:null},cn={name:"MobileDashboard",components:{Progress:Ie,MobileControls:rn},props:{controls:[Boolean,String],muted:Boolean},data:function(){return{show:!0}},mixins:[Pe],setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},methods:{showDashboard:function(e){var t=this;window.clearTimeout(this._hideTimeout),this.show=!0,this.emit($.UI_DASHBOARD_SHOW),0===e||(this._hideTimeout=setTimeout((function(){t.hideDashboard()}),e||A.dashboardHideDelay))},hideDashboard:function(){this.show=!1,this.emit($.UI_DASHBOARD_HIDE)},_initAutoMode:function(){var e=this.$refs.dashboard.parentNode;te?(e.addEventListener("touchend",this._onTouchend.bind(this),!0),e.addEventListener("touchmove",this._onTouchend.bind(this))):(e.addEventListener("mousemove",this._onMousemove.bind(this)),e.addEventListener("mouseleave",this._onMouseleave.bind(this)),e.addEventListener("mouseover",this._onMouseover.bind(this),!0)),this.showDashboard(A.dashboardHideDelay)},_onMousemove:function(e){return e.pageX===sn.x&&e.pageY===sn.y?(sn.x=e.pageX,void(sn.y=e.pageY)):(sn.x=e.pageX,sn.y=e.pageY,be(this._el,e.target)?this.showDashboard(0):void this.showDashboard())},_onMouseleave:function(){this.showDashboard()},_onMouseover:function(){this.showDashboard(0)},_onTouchend:function(){this.showDashboard()}},mounted:function(){var e=this.controls;e?"fixed"===e?this.show=!0:this._initAutoMode():this.show=!1}};n("20a6");cn.render=Qt;var ln=cn,un={class:"vue-core-video-player-layers"};function dn(e,t,n,a,r,i){var s=Object(o["resolveComponent"])("cover-layer"),c=Object(o["resolveComponent"])("logo-layer"),l=Object(o["resolveComponent"])("title-layer"),u=Object(o["resolveComponent"])("play-pause-layer"),d=Object(o["resolveComponent"])("loading-layer"),h=Object(o["resolveComponent"])("error-layer"),p=Object(o["resolveComponent"])("barrage-layer");return Object(o["openBlock"])(),Object(o["createBlock"])("div",un,[Object(o["createVNode"])(s),Object(o["createVNode"])(c),Object(o["createVNode"])(l),Object(o["createVNode"])(u),Object(o["createVNode"])(d),Object(o["createVNode"])(h),Object(o["createVNode"])(p,e.$attrs,null,16)])}var hn={class:"vcp-layer title-layer"},pn={class:"video-title"};function fn(e,t,n,a,r,i){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("div",hn,[Object(o["createVNode"])("div",pn,Object(o["toDisplayString"])(r.title),1)],512)),[[o["vShow"],r.show&&r.title.length]])}var vn={name:"CoverLayer",mixins:[Pe],data:function(){return{title:"",show:!1}},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},mounted:function(){var e=this;this.on($.LIFECYCLE_INITING,(function(t){var n=t.config.title;n&&(e.title=n)})),this.on($.UI_DASHBOARD_SHOW,(function(){e.show=!0})),this.on($.UI_DASHBOARD_HIDE,(function(){e.show=!1}))}};n("e246");vn.render=fn;var bn=vn,mn={key:0,class:"vcp-layer logo-layer"},gn={class:"logo-wrap"};function yn(e,t,n,a,r,i){return r.logo?(Object(o["openBlock"])(),Object(o["createBlock"])("div",mn,[Object(o["createVNode"])("div",gn,[Object(o["createVNode"])("img",{alt:"logo",src:r.logo},null,8,["src"])])])):Object(o["createCommentVNode"])("",!0)}var On={name:"CoverLayer",mixins:[Pe],props:{visible:Boolean},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},data:function(){return{logo:""}},mounted:function(){var e=this;this.on($.LIFECYCLE_INITING,(function(t){var n=t.config.logo;n&&(e.logo=n)}))}};n("3e62");On.render=yn;var jn=On,wn=Object(o["createVNode"])("path",{d:"M23.5,0,47,41H0Z",transform:"translate(41) rotate(90)",fill:"#ff6060"},null,-1),Nn=Object(o["createVNode"])("g",{transform:"translate(-950 -398)"},[Object(o["createVNode"])("rect",{width:"12",height:"48",transform:"translate(950 398)",fill:"#ff6060"}),Object(o["createVNode"])("rect",{width:"12",height:"48",transform:"translate(974 398)",fill:"#ff6060"})],-1);function En(e,t,n,a,r,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"vcp-layer play-pause-layer",onClick:t[3]||(t[3]=function(){return i.onClick&&i.onClick.apply(i,arguments)})},[e.isPlaying?Object(o["createCommentVNode"])("",!0):Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("a",{key:0,href:"javascript:;",class:["btn-control",{mobile:r.isMobile}],onClick:t[1]||(t[1]=function(){return e.play&&e.play.apply(e,arguments)})},[(Object(o["openBlock"])(),Object(o["createBlock"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"btn-play",width:r.isMobile?21:31,height:r.isMobile?25:35,viewBox:"0 0 41 47"},[wn],8,["width","height"]))],2)),[[o["vShow"],r.show]]),e.isPlaying?Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("a",{key:1,href:"javascript:;",class:["btn-control",{mobile:r.isMobile}],onClick:t[2]||(t[2]=function(){return e.pause&&e.pause.apply(e,arguments)})},[(Object(o["openBlock"])(),Object(o["createBlock"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"btn-pause",width:r.isMobile?17:27,height:r.isMobile?26:36,viewBox:"0 0 36 48"},[Nn],8,["width","height"]))],2)),[[o["vShow"],r.show]]):Object(o["createCommentVNode"])("",!0)])}var Cn={name:"PlayPauseLayer",mixins:[Pe],props:{visible:Boolean},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},data:function(){return{show:!1,isMobile:te}},mounted:function(){var e=this;this.on($.ERROR,(function(){e.show=!1})),te?(this.on([$.UI_DASHBOARD_SHOW,$.ENDED,$.PAUSE],(function(){e.isError?e.show=!1:e.show=!0})),this.on($.UI_DASHBOARD_HIDE,(function(){e.isError||e.isPlaying?e.show=!1:e.show=!0}))):this.on([$.UI_DASHBOARD_HIDE,$.UI_DASHBOARD_SHOW,$.PLAY,$.ENDED,$.PAUSE],(function(){e.isError||e.isPlaying?e.show=!1:e.show=!0}))},methods:{onClick:function(){te||(this.isPlaying?this.pause():this.play())}}};n("6f58");Cn.render=En;var Vn=Cn,kn={class:"vcp-layer cover-layer"};function Sn(e,t,n,a,r,i){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("div",kn,[r.cover?(Object(o["openBlock"])(),Object(o["createBlock"])("img",{key:0,alt:"video cover",src:r.cover},null,8,["src"])):Object(o["createCommentVNode"])("",!0)],512)),[[o["vShow"],r.show]])}var Ln={name:"CoverLayer",mixins:[Pe],props:{visible:Boolean},data:function(){return{cover:"",show:!1}},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},beforeMount:function(){var e=this;this.on($.LIFECYCLE_INITING,(function(t){var n=t.config.cover;n&&(e.cover=n,e.show=!0)})),this.on($.ERROR_AUTO_PLAY,(function(){e.show=!0})),this.on($.PLAY,(function(){e.show=!1})),this.on($.SEEKED,(function(){e.show=!1}))}};n("326f");Ln.render=Sn;var Pn=Ln,_n={class:"vcp-layer loading-layer"},Dn={class:"loading-wrap"},An=Object(o["createVNode"])("div",{class:"h5-layer-loading"},[Object(o["createVNode"])("svg",{class:"spinner",width:"100%",height:"100%",viewBox:"0 0 80 80",xmlns:"http://www.w3.org/2000/svg"},[Object(o["createVNode"])("defs",null,[Object(o["createVNode"])("linearGradient",{id:"grad",gradientUnits:"objectBoundingBox",gradientTransform:"rotate(135 0.5 0.5)"},[Object(o["createVNode"])("stop",{offset:"0%","stop-color":"#ff6060"}),Object(o["createVNode"])("stop",{offset:"100%","stop-color":"#fa3b3b"})])]),Object(o["createVNode"])("circle",{class:"path",stroke:"url(#grad)","stroke-width":"10",fill:"none","stroke-linecap":"round",cx:"40",cy:"40",r:"30"})])],-1);function Bn(e,t,n,a,r,i){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("div",_n,[Object(o["createVNode"])("div",Dn,[An,Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(e.$tvvp("layers.loading.msg")),1)])],512)),[[o["vShow"],r.show]])}var Mn=600,Tn={name:"LoadingLayer",mixins:[Pe],setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},data:function(){return{show:!1}},methods:{showLoading:function(e){var t=this;e?this.show=!0:(window.clearTimeout(this._timeout),this._timeout=setTimeout((function(){t.show=!0}),Mn))},hideLoading:function(){window.clearTimeout(this._timeout),this.show=!1}},beforeMount:function(){var e=this;this.on([$.CANPLAY,$.CANPLAYTHROUGH,$.PLAY,$.LOADEDMETADATA,$.SEEKED,$.ERROR],(function(){e.hideLoading()})),this.on([$.SEEKING,$.STALLED,$.LOADSTART],(function(t){e.showLoading()})),this.on(["playing"],(function(){e.hideLoading()}))}};n("cb1c");Tn.render=Bn;var In=Tn,xn={class:"vcp-layer error-layer"},Rn={class:"error-msg-wrap"},$n={class:"error-msg"};function Fn(e,t,n,a,r,i){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("div",xn,[Object(o["createVNode"])("div",Rn,[Object(o["createVNode"])("h2",null,Object(o["toDisplayString"])(e.$tvvp("layers.error.title")),1),Object(o["createVNode"])("p",$n,Object(o["toDisplayString"])(r.errMsg),1)])],512)),[[o["vShow"],r.show]])}var zn={name:"CoverLayer",mixins:[Pe],props:{dsiable:Boolean},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},created:function(){this._playerKey=this.playerKey},data:function(){return{errMsg:"",show:!1}},mounted:function(){var e=this;this.on($.ERROR,(function(t){console.log(t),e.show=!0;var n="layers.error."+t.code;e.errMsg=S.t(n,"")}))}};n("3c9c");zn.render=Fn;var Hn=zn,Kn={class:"barrage-layer"},Un={class:"barrage-wrapper"},Gn={class:"barrage-item left-item"};function Yn(e,t,n,a,r,i){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("div",Kn,[Object(o["createVNode"])("div",Un,[Object(o["createVNode"])("div",{class:["barrage-container",{"ani-pause":r.isPause,"ani-running":!r.isPause||r.isEnded}],ref:"barrageContainer"},[Object(o["createVNode"])("div",Gn,[Object(o["createVNode"])("div",{class:"item-content",style:{fontSize:r.currentFontSize+"px"},ref:"tempItem"}," temp ",4)])],2)]),Object(o["renderSlot"])(e.$slots,"default")],512)),[[o["vShow"],r.show]])}var Wn=n("a3e9"),qn=n.n(Wn),Xn={percent:A.barragePosition,fontSize:A.barrageFontSize,opacity:A.barrageOpacity,barrageList:[]},Zn=144,Jn={name:"BarrageLayer",mixins:[Pe],props:{barrageConfig:{type:Object,default:function(){return Xn}}},setup:function(){var e=Object(o["inject"])("playerKey");return{playerKey:e}},data:function(){return{show:!0,channelCount:8,hasLeftPosition:[],hasRightPosition:[],hasTopPosition:[],hasBottomPosition:[],barrageContainer:null,barMainWidth:500,barMainHeight:0,currentTime:0,currentOpacity:this.barrageConfig.opacity?this.barrageConfig.opacity:A.barrageOpacity,currentFontSize:this.barrageConfig.fontSize?this.barrageConfig.fontSize:A.barrageFontSize,currentPosition:this.barrageConfig.position?this.barrageConfig.position:A.barragePosition,barrages:this.barrageConfig.barrageList?this.barrageConfig.barrageList:[],barragesIndex:0,isEnded:!1,isPause:!0,svgAvatar:{},moveDuration:5,isSafari:q(),tempItem:null}},computed:{itemHeight:function(){return this.currentFontSize+4}},created:function(){this._playerKey=this.playerKey},mounted:function(){var e=this;this.barrageContainer=this.$refs.barrageContainer,this.barMainWidth=this.barrageContainer.clientWidth,this.barMainHeight=this.barrageContainer.clientHeight,this.moveDuration=Math.min(Math.floor(this.barMainWidth/Zn),10),this.getTempItem(),this.getChannelCount(),this.positionInit(),this.barrages.length?(this.show=!0,window.requestAnimationFrame((function(){e.frame()}))):this.show=!1,this.on($.PLAY,(function(){e.isEnded=!1,e.playBarrage()})),this.on($.PAUSE,(function(){e.pauseBarrage()})),this.on($.ENDED,(function(){e.isEnded=!0})),this.on([$.UI_FULLSCREEN,$.UI_RESIZE],(function(){e.resize()})),this.on($.SEEKING,(function(){e.seeking()})),this.on($.SEEKED,(function(){e.seeked()})),this.on($.GLOBAL_BARRAGE_FONT_SIZE,(function(t){e.currentFontSize=t,e.getTempItem()})),this.on($.GLOBAL_BARRAGE_OPACITY,(function(t){e.currentOpacity=t})),this.on($.GLOBAL_BARRAGE_POSITION,(function(t){e.currentPosition=t}))},watch:{currentPosition:function(){this.getChannelCount()}},methods:{getMultiavatar:function(e){var t=/\s|\+|`|~|!|@|#|\$|\^|&|\*|\(|\)|=|\||\{|\}|'|:|;|'|,|\\|\[|\]|<|>|\/|\?|～|！|@|#|￥|……|&|\*|（|）|——|\||\{|\}|【|】|‘|；|：|”|“|'|。|，|、|？/g,n=e.replace(t,"");if(this.svgAvatar["".concat(n)])return this.svgAvatar["".concat(n)];var o=qn()(e);return this.svgAvatar["".concat(n)]=o,o},getChannelCount:function(){this.channelCount=Math.floor(this.barMainHeight*(this.currentPosition/100)/this.itemHeight)},getTempItem:function(){var e=getComputedStyle(this.$refs.tempItem,null);this.tempItem=document.createElement("canvas").getContext("2d");var t=e.getPropertyValue("font-size"),n=e.getPropertyValue("font-family");this.tempItem.font="".concat(t," ").concat(n)},positionInit:function(){for(var e=0;e<this.channelCount;e++)this.hasLeftPosition[e]=!0,this.hasRightPosition[e]=!0,this.hasTopPosition[e]=!0,this.hasBottomPosition[e]=!0},getChannel:function(e){for(var t=0;t<this.channelCount;t++)switch(e){case"left":if(this.hasLeftPosition[t])return t%this.channelCount;break;case"right":if(this.hasRightPosition[t])return t%this.channelCount;break;case"top":if(this.hasTopPosition[t])return t%this.channelCount;break;case"bottom":if(this.hasBottomPosition[t])return t%this.channelCount;break}return-1},createBarrageDom:function(e,t){var n=this,o=["barrage-item"];e.isSelf&&o.push("self-item");var a=ee(e.type);o.push("".concat(a,"-item"));var r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");if(r.className=o.join(" "),r.style.opacity=parseFloat(this.currentOpacity/100),e.username){i.className="item-avatar";var c=this.getMultiavatar(e.username);i.innerHTML=c,i.style.width=i.style.height=this.currentFontSize+"px"}else if(e.avatar){var l=document.createElement("img");i.className="item-avatar",i.style.width=i.style.height=this.currentFontSize+"px",l.style.width=l.style.height=this.currentFontSize+"px",l.src=e.avatar,i.appendChild(l)}e.content&&(s.className="item-content",s.style.fontSize=this.currentFontSize+"px",e.color||(e.color=16777215),s.style.color=Q(e.color),s.innerText=e.content);var u=this.measureItem(e.content,e.avatar||e.username);switch(a){case"left":this.hasLeftPosition[t]=!1,r.addEventListener("animationend",(function(){n.barrageContainer.removeChild(r)})),this.isSafari?(r.style.transform="translate3d(".concat(this.barMainWidth,"px, 0, 0) rotate(0.1deg)"),r.style.animation="barrage-left-safari ".concat(this.moveDuration,"s linear")):(r.style.transform="translate3d(".concat(this.barMainWidth,"px, 0, 0)"),r.style.animation="barrage-left ".concat(this.moveDuration,"s linear")),r.style.top="".concat(t*this.itemHeight,"px"),r.appendChild(s),r.appendChild(i),setTimeout((function(){n.hasLeftPosition[t]=!0}),u*this.moveDuration*1e3/(this.barMainWidth+u));break;case"right":this.hasRightPosition[t]=!1,r.addEventListener("animationend",(function(){n.barrageContainer.removeChild(r)})),this.isSafari?(r.style.transform="translate3d(-".concat(this.barMainWidth,"px, 0, 0) rotate(0.1deg)"),r.style.animation="barrage-right-safari ".concat(this.moveDuration,"s linear")):(r.style.transform="translate3d(-".concat(this.barMainWidth,"px, 0, 0)"),r.style.animation="barrage-right ".concat(this.moveDuration,"s linear")),r.style.top="".concat(t*this.itemHeight,"px"),r.appendChild(i),r.appendChild(s),setTimeout((function(){n.hasRightPosition[t]=!0}),u*this.moveDuration*1e3/(this.barMainWidth+u));break;case"top":this.hasTopPosition[t]=!1,r.addEventListener("animationend",(function(){n.barrageContainer.removeChild(r),n.hasTopPosition[t]=!0})),r.style.top="".concat(t*this.itemHeight,"px"),r.appendChild(i),r.appendChild(s);break;case"bottom":this.hasBottomPosition[t]=!1,r.addEventListener("animationend",(function(){n.barrageContainer.removeChild(r),n.hasBottomPosition[t]=!0})),r.style.bottom="".concat(t*this.itemHeight,"px"),r.appendChild(i),r.appendChild(s);break}return r},playBarrage:function(){this.isPause=!1},pauseBarrage:function(){this.isPause=!0},clear:function(){this.barragesIndex=0,this.barrageContainer.innerHTML="",this.positionInit()},seeking:function(){this.show&&(this.pauseBarrage(),this.clear())},seeked:function(){if(this.show){this.currentTime=this.$player.getCurrentTime();for(var e=0;e<this.barrages.length;e++){if(this.barrages[e].time>=this.currentTime){this.barragesIndex=e;break}this.barragesIndex=this.barrages.length}this.isPlaying&&this.playBarrage()}},resize:function(){if(this.show){var e=this.channelCount;if(this.barMainWidth=this.barrageContainer.clientWidth,this.barMainHeight=this.barrageContainer.clientHeight,this.moveDuration=Math.min(Math.floor(this.barMainWidth/Zn),10),this.getChannelCount(),e<this.channelCount)for(var t=e;t<this.channelCount;t++)this.hasLeftPosition[t]=!0,this.hasRightPosition[t]=!0,this.hasTopPosition[t]=!0,this.hasBottomPosition[t]=!0}},frame:function(){var e=this;if(this.barrages.length&&!this.isPause&&this.show){this.currentTime=this.$player.getCurrentTime();var t=[],n=this.barrages[this.barragesIndex];while(n&&this.currentTime>n.time)t.push(n),n=this.barrages[++this.barragesIndex];this.draw(t)}window.requestAnimationFrame((function(){e.frame()}))},draw:function(e){for(var t={left:!1,right:!1,top:!1,bottom:!1},n=document.createDocumentFragment(),o=0;o<e.length;o++){var a=e[o],r=ee(a.type),i=this.getChannel(r);if(t["".concat(r)]||-1===i)t["".concat(r)]=!0;else{var s=this.createBarrageDom(a,i);n.appendChild(s)}if(t.left&&t.right&&t.top&&t.bottom)break}this.barrageContainer.appendChild(n)},measureItem:function(e,t){return this.tempItem.measureText(e).width+10+(t?this.currentFontSize+10:0)}}};n("b9bd");Jn.render=Yn;var Qn=Jn,eo={name:"Layers",components:{PlayPauseLayer:Vn,CoverLayer:Pn,LogoLayer:jn,TitleLayer:bn,LoadingLayer:In,ErrorLayer:Hn,BarrageLayer:Qn},inheritAttrs:!1,props:{visible:Boolean}};n("ce64");eo.render=dn;var to=eo,no={name:"Vue3VideoPlayer",inheritAttrs:!1,mixins:[Pe],components:{Dashboard:Zt,MobileDashboard:ln,Layers:to},props:{src:[String,Array],resolution:{type:String,default:A.resolution},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},playsinline:{type:Boolean,default:!0},title:String,cover:String,logo:String,muted:{type:Boolean,default:!1},controls:{type:[String,Boolean],default:!0},lang:{type:[String,Object],default:"en"},core:{type:Function},viewCore:{type:Function}},setup:function(e){var t="key-"+W();Object(o["provide"])("playerKey",t);var n=Object(o["reactive"])({});return{playerKey:t,slots:n}},data:function(){return{isMobile:te,player:null}},computed:{source:function(){var e=this,t=this.src;if(!t)return"";var n,o=ce(t);return o.forEach((function(t){t.resolution===e.resolution&&(n=t.src)})),n||("object"===Object(j["a"])(o[0])&&o[0].src?n=o[0].src:"string"===typeof o[0]&&(n=o[0])),this.player&&this.player.setSource(t),n}},created:function(){var e=this;this._playerKey=this.playerKey,this.on($.GLOBAL_AUTO_PLAY,(function(t){e.player.setConfig("autoplay",t)}));var t=Object(o["getCurrentInstance"])();this.slots=t.slots?t.slots:{}},mounted:function(){var e=this;if(this.player=this.videoCore=Ce(Object(_["a"])(Object(_["a"])({},this.$props),{},{videoEl:this.$refs["vcp-video"],el:this.$refs["vcp-el"],eventEmitter:{on:this.on,emit:this.emit,off:this.off}})),Object.values($).forEach((function(t){e.player.on(t,(function(n){var o=J("on-".concat(t));"function"===typeof e.$attrs[o]&&e.$attrs[o](n)}))})),this._coreID=this.videoCore.id,this.emit($.LIFECYCLE_INITING,this.player),this.viewCore&&"function"===typeof this.viewCore)try{this.viewCore(this.player)}catch(t){console.error(t)}},beforeUnmount:function(){this.player.destroy()}};n("d6ee");no.render=P;var oo=no;function ao(e){e.directive("tvvp",{beforeMount:function(e,t){e.innerText=S.t(t.value)}})}function ro(e){ao(e)}var io={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S.setLocale(t.lang),e.config.globalProperties.$tvvp=function(e){return S.t(e)},ro(e),e.component(oo.name,oo)}},so=io,co=Object(o["createApp"])(O);co.use(so,{lang:"zh-CN"}).mount("#app")},"618c":function(e,t,n){},"62ba":function(e,t,n){},"68ae":function(e,t,n){},"6d6b":function(e,t,n){},"6dc6":function(e,t,n){},"6f58":function(e,t,n){"use strict";n("62ba")},8074:function(e,t,n){},"8d68":function(e,t,n){},"9ad1":function(e,t,n){"use strict";n("00ab")},"9c9b":function(e,t,n){},a2a4:function(e){e.exports=JSON.parse('{"dashboard":{"btn":{"play":"Reproduzir","pause":"Pausa","fullscreen":"Tela inteira","exitFullscreen":"Sair da tela inteira","mute":"Sem áudio","unmute":"Reativar o som","back":"Voltar","pip":"Picture-in-Picture"},"settings":{"autoplay":"Reproduzir Automáticamente","loop":"Loop","speed":"Velocidade","resolution":"Resolução"}},"layers":{"error":{"601":"Live não pode ser reproduzida","2404":"Entrada de vídeo não definida","2502":"Erro de rede de mídia","2503":"Vídeo não pode ser decodificado","2504":"Vído não pode ser reproduzido","title":"Erro!"},"loading":{"msg":"Loading ..."}}}')},acd1:function(e,t,n){},ad79:function(e,t,n){"use strict";n("f2a8")},add7:function(e,t,n){},aef1:function(e,t,n){"use strict";n("cfc8")},b3de:function(e,t,n){"use strict";n("68ae")},b5e1:function(e,t,n){},b7f9:function(e,t,n){},b9bd:function(e,t,n){"use strict";n("c81a")},c81a:function(e,t,n){},cb1c:function(e,t,n){"use strict";n("6dc6")},cc02:function(e,t,n){"use strict";n("9c9b")},ce64:function(e,t,n){"use strict";n("54e9")},cf05:function(e,t,n){e.exports=n.p+"static/img/logo.82b9c7a5.png"},cfc8:function(e,t,n){},d3eb:function(e,t,n){"use strict";n("0177")},d6ee:function(e,t,n){"use strict";n("8074")},df70:function(e,t,n){},e246:function(e,t,n){"use strict";n("b5e1")},e312:function(e){e.exports=JSON.parse('{"dashboard":{"btn":{"play":"Play","pause":"Pause","fullscreen":"Full Screen","exitFullscreen":"Exit Full Screen","mute":"Mute","unmute":"Unmute","back":"Back","pip":"Picture-in-Picture"},"settings":{"autoplay":"Autoplay","loop":"Loop","speed":"Speed","resolution":"Resolution"}},"layers":{"error":{"601":"Live video Cannot Play!","2404":"Video Source Undefined","2502":"Media Network Error","2503":"Video Cannot DECODE","2504":"Video Cannot Play!","title":"Error!"},"loading":{"msg":"Loading ..."}}}')},e72d:function(e,t,n){"use strict";n("b7f9")},e77f:function(e,t,n){},ed0d:function(e,t,n){},f201:function(e){e.exports=JSON.parse('{"dashboard":{"btn":{"play":"播放","pause":"暂停","fullscreen":"全屏","exitFullscreen":"退出全屏","mute":"静音","unmute":"取消静音","back":"返回","pip":"画中画模式"},"settings":{"autoplay":"自动播放","loop":"循环播放","speed":"播放速度","resolution":"清晰度"}},"layers":{"error":{"601":"无法正常播放","2404":"未设置视频源","2502":"播放网络异常","2503":"视频无法解码","2504":"视频无法正常播放","title":"出错了!"},"loading":{"msg":"加载中 ..."}}}')},f2a8:function(e,t,n){},fe41:function(e,t,n){"use strict";n("8d68")}});
//# sourceMappingURL=app.c762cfcb.js.map